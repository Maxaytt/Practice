@model Domain.ViewModel.CreateEditFilmVm

@{
    ViewBag.Title = "Create Film";
}

<div class="container">
    <h2>Create Film</h2>
    <form asp-action="Create" asp-controller="Films" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label asp-for="Name">Name</label>
            <input asp-for="Name" type="text" class="form-control" />
        </div>

        <div class="form-group">
            <label asp-for="VideoFile">Video</label>
            <input asp-for="VideoFile" type="file" accept="video/mp4, video/ogg, video/webm" />
        </div>

        <div class="form-group">
            <label asp-for="ImageFile">Image</label>
            <input asp-for="ImageFile" type="file" accept="image/jpg, image/png, image/jpeg, image/webp, image/avif, image/svg+xml, image/x-icon, image/bmp" />
        </div>

        <div class="form-group">
            <a asp-action="AddQuestion" asp-controller="Films" asp-route-filmId="@Model.Id" class="btn btn-secondary">Add Question</a>
        </div>

        <button type="submit" class="btn btn-primary">Create</button>
    </form>

    <h3>Questions</h3>
    @if (Model.Questions != null && Model.Questions.Any())
    {
        <ul>
            @foreach (var question in Model.Questions)
            {
                <li>
                    <strong>@question.Text</strong>
                    <ul>
                        @foreach (var answer in question.Answers)
                        {
                            <li>@answer.Text @(answer.IsTrue ? "(Correct)" : "")</li>
                        }
                    </ul>
                </li>
            }
        </ul>
    }
</div>
